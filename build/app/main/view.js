define(["app/attempt/view","app/board/view","app/control/view","app/score/view","app/timer/view","app/dictionary","text!app/main/template.tpl"],function(a,b,c,d,e,f,g){"use strict";function h(){this.elementId="#game",this.board=new b,this.control=new c,this.attempt=new a,this.score=new d,this.timer=new e,this.minLength=2,this.dictionary=new f}return h.prototype={template:_.template(g),render:function(){var a=this.template();$(this.elementId).html(a),this.board.render(),this.control.render(),this.attempt.render(),this.score.render(),this.timer.render()},start:function(){var a=this;this.board.start(),this.control.start(),this.attempt.start(),this.score.start(),this.timer.start({onStop:function(){a.stop(),alert("Game over!")}})},stop:function(){this.board.stop(),this.control.stop(),this.attempt.stop(),this.score.stop(),this.timer.stop()},checkOnEnter:function(a){13===a.which&&this.check(a.target.value.toUpperCase())},check:function(a){var b=this;a.length<this.minLength||(this.checkScore(a)&&this.checkBoard(a)?this.checkDictionary(a,function(c){b.commit(a,c)}):this.commit(a,!1))},checkBoard:function(a){return this.board.check(a)},checkDictionary:function(a,b){return this.dictionary.check(a,b)},checkScore:function(a,b){return this.score.check(a)},commit:function(a,b){this.score.add({word:a,scored:b}),this.attempt.clear(),this.attempt.focus()}},h});